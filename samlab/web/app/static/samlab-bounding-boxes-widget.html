<div class="widget-content">
    <div class="container-fluid">
        <div class="grid-stack-item-handle">
            <h1 class="h5" data-bind="text: title"></h1>
        </div>
        <hr></hr>
        <form class="form-inline mb-3" onSubmit="return false">
            <samlab-combo-control class="mr-2" params="current: mode, items: mode_items"></samlab-combo-control>
            <samlab-combo-control class="mr-5" params="current: color, items: color_items, disabled: mode() != 'add'"></samlab-combo-control>
            <button type="button" class="btn btn-sm btn-danger" data-bind="click: clear">Clear All</button>
        </form>
        <div class="img-overlay-wrap">
            <img data-bind="attr: {src: src}"></img>
            <svg data-bind="attr: {viewBox: viewbox}, event: {mousedown: on_mousedown, mousemove: on_mousemove, mouseup: on_mouseup}" font-size="12" stroke-width="1">
                <!-- ko foreach: annotations -->
                <rect fill-opacity="0.2" data-bind="attr: {x:bbox()[0], y:bbox()[1], width:bbox()[2], height:bbox()[3], fill:color, stroke:color}, click: $parent.on_click_box"/>
                <text stroke="none" data-bind="attr: {x:bbox()[0], y:bbox()[1]-5, fill:color}, text:username"/>
                <!-- /ko -->
            </svg>
        </div>
    </div>
</div>
