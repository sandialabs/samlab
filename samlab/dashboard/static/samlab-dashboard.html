<div>
    <div class="dashboard-bar d-flex flex-row">
        <h5 class="text-muted align-self-center"><span data-bind="text: server.name"></span>&nbsp;<small data-bind="text: server.description"></small></h5>
        <samlab-favorite-control class="ms-auto align-self-center" params="otype: 'layouts', oid: lid"></samlab-favorite-control>
        <div class="dropdown ms-1 align-self-center">
            <button type="button" class="btn btn-outline-secondary dropdown-toggle" data-bs-toggle="dropdown">Favorites</button>
            <ul class="dropdown-menu">
                <!-- ko if: no_favorites -->
                <div style="max-width: 220px">
                    <p style="margin: 0 8px">Click the <span class="bi-star"></span> icon to add the current window layout to this list.</p>
                </div>
                <!-- /ko -->
                <!-- ko foreach: favorite_groups -->
                <li><h6 class="dropdown-header" data-bind="text: label"></h6></li>
                <!-- ko foreach: items -->
                <li><a class="dropdown-item" data-bind="click: $root.show_favorite"><span></span>&nbsp;<span data-bind="text: label"></span></a></li>
                <!-- /ko -->
                <!-- /ko -->
            </ul>
        </div>
        <div class="dropdown ms-1 align-self-center">
            <button type="button" class="btn btn-outline-secondary dropdown-toggle" data-bs-toggle="dropdown">Datasets</button>
            <ul class="dropdown-menu">
                <!-- ko foreach: backends -->
                <!-- ko if: name -->
                <li><a class="dropdown-item" data-bind="click: $root.show_service"><span data-bind="text: name"></span></a></li>
                <!-- /ko -->
                <!-- /ko -->
            </ul>
        </div>
        <div class="dropdown ms-1 align-self-center">
            <button type="button" class="btn btn-outline-secondary dropdown-toggle" data-bs-toggle="dropdown">Operations</button>
            <ul class="dropdown-menu">
                <li><h6 class="dropdown-header">Dashboard</h6></li>
                <li><a class="dropdown-item btn btn-secondary" data-bind="css: {active: tabs}, click: toggle_tabs"><span class="bi-window"></span>&nbsp;Use tabs</a></li>
                <li><a class="dropdown-item" data-bind="click: default_layout"><span class="bi-square-fill"></span>&nbsp;<span>Default Layout</span></a></li>
                <li><a class="dropdown-item" data-bind="click: empty_layout"><span class="bi-square"></span>&nbsp;<span>Empty Layout</span></a></li>
                <!-- ko foreach: filtered_operations -->
                <li><h6 class="dropdown-header" data-bind="text: label"></h6></li>
                <!-- ko foreach: children -->
                <li><a class="dropdown-item" data-bind="click: $root.activate_operation"><span data-bind="css: icon"></span>&nbsp;<span data-bind="text: label"></span></a></li>
                <!-- /ko -->
                <!-- /ko -->
            </ul>
        </div>
    </div>
    <div class="grid-stack" data-bind="gridStack: {options: options, widgets: widgets}">
        <div class="grid-stack-item" data-bind="attr: {'gs-x': $data.x, 'gs-y': $data.y, 'gs-w': $data.width, 'gs-h': $data.height}">
            <div class="grid-stack-item-content" data-bind="event: {mouseenter: $root.mouse_enter, mouseleave: $root.mouse_leave}">
                <div class="grid-stack-item-handle"></div>
                <button class="grid-stack-item-close btn-close" data-bind="click: $root.close_widget"></button>
                <div class="widget-component w-100 h-100 px-2 d-flex flex-column" data-bind="component: {name: component, params: $data}"></div>
            </div>
        </div>
    </div>
</div>
