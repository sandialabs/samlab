<div>
    <div class="dashboard-bar d-flex flex-row">
        <h5 class="text-muted align-self-center"><span data-bind="text: server.name"></span>&nbsp;<small data-bind="text: server.description"></small></h5>
        <samlab-favorite-control class="ms-auto align-self-center" params="otype: 'layouts', oid: lid"></samlab-favorite-control>
        <div class="dropdown ms-1 align-self-center">
            <button type="button" class="btn btn-outline-secondary dropdown-toggle" data-bs-toggle="dropdown">Favorites</button>
            <div class="dropdown-menu">
                <!-- ko if: no_favorites -->
                <div style="max-width: 220px">
                    <p style="margin: 0 8px">Click the <span class="bi-star"></span> icon to add the current window layout to this list.</p>
                </div>
                <!-- /ko -->
                <!-- ko foreach: favorite_groups -->
                <h6 class="dropdown-header" data-bind="text: label"></h6>
                <!-- ko foreach: items -->
                <a class="dropdown-item" data-bind="click: $root.show_favorite"><span></span>&nbsp;<span data-bind="text: label"></span></a>
                <!-- /ko -->
                <!-- /ko -->
            </div>
        </div>
        <div class="dropdown ms-1 align-self-center">
            <button type="button" class="btn btn-outline-secondary dropdown-toggle" data-bs-toggle="dropdown">Datasets</button>
            <div class="dropdown-menu">
                <!-- ko foreach: backends -->
                <!-- ko if: name -->
                <a class="dropdown-item" data-bind="click: $root.show_service">
                    <span data-bind="text: name"></span>
                </a>
                <!-- /ko -->
                <!-- /ko -->
            </div>
        </div>
        <div class="dropdown ms-1 align-self-center">
            <button type="button" class="btn btn-outline-secondary dropdown-toggle" data-bs-toggle="dropdown">Operations</button>
            <div class="dropdown-menu">
                <h6 class="dropdown-header">Dashboard</h6>
                <a class="dropdown-item btn btn-secondary" data-bind="css: {active: tabs}, click: toggle_tabs"><span class="bi-window"></span>&nbsp;Use tabs</a>
                <a class="dropdown-item" data-bind="click: default_layout"><span class="bi-square-fill"></span>&nbsp;<span>Default Layout</span></a>
                <a class="dropdown-item" data-bind="click: empty_layout"><span class="bi-square"></span>&nbsp;<span>Empty Layout</span></a>
                <!-- ko foreach: filtered_operations -->
                <h6 class="dropdown-header" data-bind="text: label"></h6>
                <!-- ko foreach: children -->
                <a class="dropdown-item" data-bind="click: $root.activate_operation"><span data-bind="css: icon"></span>&nbsp;<span data-bind="text: label"></span></a>
                <!-- /ko -->
                <!-- /ko -->
            </div>
        </div>
    </div>
    <!--
    <div class="dashboard-grid gridster">
        <ul data-bind="gridster: {widgets: widgets, options: gridster_options}">
            <li class="grid-item" data-bind="event: {mouseenter: $parent.mouse_enter, mouseleave: $parent.mouse_leave}">
                <div class="grid-item-content" data-bind="component: {name: component, params: $data}"></div>
                <button type="button" class="btn-close grid-item-close" data-bind="click: $parent.close_widget" title="Close widget"></button>
            </li>
        </ul>
    </div>
    -->
    <samlab-gridstack-component params="widgets: widgets"></samlab-gridstack-component>
</div>
